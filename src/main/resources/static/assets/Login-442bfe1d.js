import{_ as y,u as k,r as u,a as S,b,o as x,d as I,e as t,w as c,f as L,g as r,F as N,h as V,i as l,j as m,k as B,l as C,p as K,m as z}from"./index-c5841820.js";import{i as F,l as J,g as O}from"./api-efb7f5c8.js";import{_ as R}from"./Form-24a2e081.js";import{_ as U}from"./Input-8455744a.js";import"./context-96c33be8.js";const g=_=>(K("data-v-2bd82fcd"),_=_(),z(),_),j={class:""},A={class:""},E=g(()=>l("h2",{class:"home"},"登录",-1)),M=g(()=>l("br",null,null,-1)),T={class:"home"},q={__name:"Login",setup(_){const p=k();let d=()=>{J(s.value,n.value).then(e=>{window.localStorage.setItem("token",JSON.stringify(e.data.tokenValue)),e.data.code===200?(window.localStorage.setItem("token",e.data.data.tokenValue),O().then(o=>{window.localStorage.setItem("setinfo",JSON.stringify(o.data.data))}),p.push({path:"/search"})):window.$message.error(e.data.msg)})},s=u(""),n=u("");return S(()=>{F().then(e=>{e.data.code===200&&p.push({path:"/search"})})}),(e,o)=>{const i=U,f=C,h=R,w=b("content"),v=V;return x(),I(N,null,[t(h,{onKeyup:L(r(d),["enter","native"])},{default:c(()=>[l("div",j,[l("div",A,[E,t(i,{class:"",size:"large",type:"text",value:r(s),"onUpdate:value":o[0]||(o[0]=a=>m(s)?s.value=a:s=a),placeholder:"请输入用户名"},null,8,["value"]),M,t(i,{class:"",size:"large",type:"password",value:r(n),"onUpdate:value":o[1]||(o[1]=a=>m(n)?n.value=a:n=a),placeholder:"请输入密码","show-password-on":"mousedown"},null,8,["value"]),l("div",T,[t(f,{class:"",type:"primary",onClick:r(d),keyboard:!0},{default:c(()=>[B("Login")]),_:1},8,["onClick"])])])])]),_:1},8,["onKeyup"]),t(v,null,{default:c(()=>[t(w)]),_:1})],64)}}},W=y(q,[["__scopeId","data-v-2bd82fcd"]]);export{W as default};
