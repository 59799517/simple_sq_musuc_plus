import{_ as y,u as k,r as u,a as S,b as x,d as I,e as t,w as p,f as L,g as r,F as N,h as V,o as b,i as l,j as m,k as B,l as C,p as K,m as z}from"./index-8375bf6e.js";import{i as F,l as J,g as O}from"./api-b1a2cf0f.js";import{_ as R}from"./Form-782d51be.js";import{_ as U}from"./Input-79366cef.js";import"./context-c484da7e.js";import"./use-merged-state-eaf65b9a.js";const f=_=>(K("data-v-68dcff83"),_=_(),z(),_),j={class:""},A={class:""},E=f(()=>l("h2",{class:"home"},"登录",-1)),M=f(()=>l("br",null,null,-1)),T={class:"home"},q={__name:"Login",setup(_){const c=k();let i=()=>{J(s.value,n.value).then(e=>{window.localStorage.setItem("token",JSON.stringify(e.data.tokenValue)),e.data.code===200?(window.localStorage.setItem("token",e.data.data.tokenValue),O().then(o=>{window.localStorage.setItem("setinfo",JSON.stringify(o.data.data))}),c.push({path:"/search"})):window.$message.error(e.data.msg)})},s=u(""),n=u("");return S(()=>{F().then(e=>{e.data.code===200&&c.push({path:"/search"})})}),(e,o)=>{const d=U,g=C,h=R,w=x("content"),v=V;return b(),I(N,null,[t(h,{onKeyup:L(r(i),["enter","native"])},{default:p(()=>[l("div",j,[l("div",A,[E,t(d,{class:"",size:"large",type:"text",value:r(s),"onUpdate:value":o[0]||(o[0]=a=>m(s)?s.value=a:s=a),placeholder:"请输入用户名"},null,8,["value"]),M,t(d,{class:"",size:"large",type:"password",value:r(n),"onUpdate:value":o[1]||(o[1]=a=>m(n)?n.value=a:n=a),placeholder:"请输入密码","show-password-on":"mousedown"},null,8,["value"]),l("div",T,[t(g,{class:"",type:"primary",onClick:r(i),keyboard:!0},{default:p(()=>[B("Login")]),_:1},8,["onClick"])])])])]),_:1},8,["onKeyup"]),t(v,null,{default:p(()=>[t(w)]),_:1})],64)}}},X=y(q,[["__scopeId","data-v-68dcff83"]]);export{X as default};
