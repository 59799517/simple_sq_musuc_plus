import{_ as y,u as k,r as u,a as S,b,d as x,e as t,w as p,f as I,g as r,F as L,h as N,o as V,i as l,j as m,k as B,l as C,p as K,m as z}from"./index-2d7ac089.js";import{i as F,l as J,g as O}from"./api-142e8b1c.js";import{_ as R}from"./Form-e83bc1d6.js";import{_ as U}from"./Input-7e965a27.js";import"./context-48e04b95.js";import"./use-merged-state-b12a1513.js";const g=_=>(K("data-v-2bd82fcd"),_=_(),z(),_),j={class:""},A={class:""},E=g(()=>l("h2",{class:"home"},"登录",-1)),M=g(()=>l("br",null,null,-1)),T={class:"home"},q={__name:"Login",setup(_){const c=k();let d=()=>{J(s.value,n.value).then(e=>{window.localStorage.setItem("token",JSON.stringify(e.data.tokenValue)),e.data.code===200?(window.localStorage.setItem("token",e.data.data.tokenValue),O().then(o=>{window.localStorage.setItem("setinfo",JSON.stringify(o.data.data))}),c.push({path:"/search"})):window.$message.error(e.data.msg)})},s=u(""),n=u("");return S(()=>{F().then(e=>{e.data.code===200&&c.push({path:"/search"})})}),(e,o)=>{const i=U,f=C,h=R,w=b("content"),v=N;return V(),x(L,null,[t(h,{onKeyup:I(r(d),["enter","native"])},{default:p(()=>[l("div",j,[l("div",A,[E,t(i,{class:"",size:"large",type:"text",value:r(s),"onUpdate:value":o[0]||(o[0]=a=>m(s)?s.value=a:s=a),placeholder:"请输入用户名"},null,8,["value"]),M,t(i,{class:"",size:"large",type:"password",value:r(n),"onUpdate:value":o[1]||(o[1]=a=>m(n)?n.value=a:n=a),placeholder:"请输入密码","show-password-on":"mousedown"},null,8,["value"]),l("div",T,[t(f,{class:"",type:"primary",onClick:r(d),keyboard:!0},{default:p(()=>[B("Login")]),_:1},8,["onClick"])])])])]),_:1},8,["onKeyup"]),t(v,null,{default:p(()=>[t(w)]),_:1})],64)}}},X=y(q,[["__scopeId","data-v-2bd82fcd"]]);export{X as default};
